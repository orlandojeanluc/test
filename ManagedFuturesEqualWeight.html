<html class="h-full">


<link rel="stylesheet" href="public/styles.css">  

<!DOCTYPE html>
<!--[if IE 8 ]><html class="no-js oldie ie8" lang="en"> <![endif]-->
<!--[if IE 9 ]><html class="no-js oldie ie9" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html class="no-js" lang="en"> <!--<![endif]-->
<head>

   <!--- basic page needs
   ================================================== -->
   <meta charset="utf-8">
  <title>Caltropia Research</title>
  <meta name="description" content="">  
  <meta name="author" content="">
    
   <!-- mobile specific metas
   ================================================== -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

  <!-- CSS
   ================================================== -->


<link rel="stylesheet" href="public/styles1.css"> 
<link rel="stylesheet" href="css/fonts.css"> 





<script src="js/jquery-2.1.3.min.js"></script>

<script>
      window.Promise ||
        document.write(
          '<script src="https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.min.js"><\/script>'
        )
      window.Promise ||
        document.write(
          '<script src="https://cdn.jsdelivr.net/npm/eligrey-classlist-js-polyfill@1.2.20171210/classList.min.js"><\/script>'
        )
      window.Promise ||
        document.write(
          '<script src="https://cdn.jsdelivr.net/npm/findindex_polyfill_mdn"><\/script>'
        )
    </script>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-app.js";
  import { getDatabase, ref, get, child } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-database.js";
  
  // ✅ Initialize Firebase
  const firebaseConfig1 = {
    apiKey: "AIzaSyBxG5qf6mb8E_-b2TeXlRNseMZ26L9DRYg",
    authDomain: "trendscores-df341.firebaseapp.com",
    databaseURL: "https://trendscores-df341-default-rtdb.firebaseio.com",
    projectId: "trendscores-df341",
    storageBucket: "trendscores-df341.appspot.com",
    messagingSenderId: "565710392511",
    appId: "1:565710392511:web:37349319364bba19b3ca0a",
    measurementId: "G-8TVLFBWN63"
  };
  
  const app1 = initializeApp(firebaseConfig1); // ✅ Call this first
  const db1 = getDatabase(app1); // ✅ Pass the app to getDatabase()
  
  // ✅ Your populate function
  function populateManagedFuturesWeights() {
    const tickers = ["es", "sb", "hg", "gc", "zc", "cl", "zn", "6b", "6e", "6j", "ng"];
  
    get(child(ref(db1), "managedFuturesEw")).then(snapshot => {
      if (snapshot.exists()) {
        const data = snapshot.val();
  
        tickers.forEach(ticker => {
          if (data[ticker]) {
            const weight = data[ticker].Weight;
            const weightPercent = (weight * 100).toFixed(1) + "%";
            document.getElementById(`${ticker}-weight`).textContent = weightPercent;
          }
        });
      } else {
        console.log("No data found in managedFuturesEw.");
      }
    }).catch(error => {
      console.error("Error fetching weights:", error);
    });
  }
  
  // ✅ Call on page load
  window.onload = () => {
  
    populateManagedFuturesWeights();
  };
  
  </script>



    
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
   <!-- script
   ================================================== -->

   <!-- favicons
  ================================================== -->
  <style>
      
        #chart {
      
    }
  </style>
<script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
</head>


<header class="text-gray-600 body-font mt-6  w-full">
  <div class=" ml-12 mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center mr-12  ">
    <a class="flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0 xl:-ml-6 lg:-ml-6 md:-ml-6 sm:-ml-0 xs:-ml-0 ">
      
      <h1 class=" title-font text-2xl text-white ">Caltropia Research</h1>
    </a>

    <nav class="md:ml-auto font-bold md:mr-auto flex flex-wrap items-center text-base justify-center text-white font-bold xl:flex lg:flex md:flex sm:hidden ">
      
      <a class="z-10 title-font mr-5 hover:white font-bold font-mreg "></a>

          
      <a class="mr-5 hover:text-white font-bold font-mreg"></a>
      <a class="mr-5 hover:text-white font-bold font-mreg"></a>
      <a class="mr-5 hover:text-white font-bold font-mreg"></a>
    </nav>
    <button class="inline-flex items-center bg-gray-100 border-0 py-1 px-3 focus:outline-none hover:bg-gray-200 rounded-2xl text-base mt-4 md:mt-0 font-regular font-mreg">More Strats
      <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-1" viewBox="0 0 24 24">
        <path d="M5 12h14M12 5l7 7-7 7"></path>
      </svg>
    </button>
  </div>

</header>


<body class="min-h-full bg-gradient-to-r from-gray-800 via-[#7e9fd4] to-gray-300 pt-[env(safe-area-inset-top)]">

<section class="text-gray-600 body-font xl:ml-0 lg:ml-0 md:ml-12 sm:ml-0">
  
  



  <div class="container mx-auto flex py-24 md:flex-row flex-col items-center ">

    

    <div class="lg:flex-grow md:w-4/5 lg:pr-24 md:pr-16 flex flex-col md:items-start md:text-left mb-16 md:mb-0 items-center text-center">
      <h1 class="title-font sm:text-3xl md:text-5xl  lg:text-5xl mb-4  text-white -mt-4  md:ml-0 lg:ml-0 xl:ml-0">Managed Futures Equal Weight

      </h1>
      <h1 class="mb-4 leading-relaxed text-gray-200  w-11/12  sm:text-sm md:text-base  lg:text-base">A signal-driven managed futures strategy using trend, strength, mean reversion, and breakout/down models, equally weighted for balanced, systematic exposure across markets.</h1>
      <h1 class="title-font sm:text-3xl md:text-4xl  lg:text-4xl mb-4 text-white mt-8 ">Fund Facts
        
      </h1>
      <h1 class="text-xs text-red-200 ">From 02/24 to Current on Daily Data</h1>


      <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4 justify-items-center mt-6 px-4 ml-0 sm:-ml-4">
        <div class="bg-gray-200 px-8 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 class="font-bold text-xl text-gray-900 font-mreg">19.63%</h2>
          <p class="font-mreg">An Return</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 class="font-bold text-xl text-gray-900 font-mreg">21.23%</h2>
          <p class="font-mreg">Volatility</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2  class="font-bold text-xl text-gray-900 font-mreg">-12.1%</h2>
          <p class="font-mreg">Drawdown</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2  class="font-bold text-xl text-gray-900 font-mreg">1.10</h2>
          <p class="font-mreg">Sharpe</p>
        </div>
        </div>


      <h1 class="title-font sm:text-3xl md:text-4xl  lg:text-4xl mb-2 text-white mt-12 ">Benchmark Facts

      </h1>


      <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4 justify-items-center mt-6 px-4 ml-0 sm:-ml-4">
        <div class="bg-gray-200 px-8 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 class="font-bold text-xl text-gray-900 font-mreg">19.63%</h2>
          <p class="font-mreg">An Return</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 class="font-bold text-xl text-gray-900 font-mreg">21.23%</h2>
          <p class="font-mreg">Volatility</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2  class="font-bold text-xl text-gray-900 font-mreg">-12.1%</h2>
          <p class="font-mreg">Drawdown</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2  class="font-bold text-xl text-gray-900 font-mreg">1.10</h2>
          <p class="font-mreg">Sharpe</p>
        </div>
        </div>
      
<h1 class="title-font sm:text-3xl md:text-4xl  lg:text-4xl mb-2 text-white mt-10">Current Allocation

      </h1>

      <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 justify-items-center mt-6 px-4 ml-0 sm:-ml-4">
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 id="es-weight" class="font-bold text-xl text-gray-900 font-mreg">-4.6%</h2>
          <p class="font-mreg">ES</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 id="sb-weight" class="font-bold text-xl text-gray-900 font-mreg">-15.0%</h2>
          <p class="font-mreg">SB</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 id="hg-weight" class="font-bold text-xl text-gray-900 font-mreg">6.1%</h2>
          <p class="font-mreg">HG</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 id="gc-weight" class="font-bold text-xl text-gray-900 font-mreg">13.5%</h2>
          <p class="font-mreg">GC</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 id="zc-weight" class="font-bold text-xl text-gray-900 font-mreg">11.4%</h2>
          <p class="font-mreg">ZC</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 id="cl-weight" class="font-bold text-xl text-gray-900 font-mreg">-11.1%</h2>
          <p class="font-mreg">CL</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 id="zn-weight" class="font-bold text-xl text-gray-900 font-mreg">0.4%</h2>
          <p class="font-mreg">ZN</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 id="6b-weight" class="font-bold text-xl text-gray-900 font-mreg">13.9%</h2>
          <p class="font-mreg">6B</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 id="6e-weight" class="font-bold text-xl text-gray-900 font-mreg">13.6%</h2>
          <p class="font-mreg">6E</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 id="6j-weight" class="font-bold text-xl text-gray-900 font-mreg">13.9%</h2>
          <p class="font-mreg">6J</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 id="ng-weight" class="font-bold text-xl text-gray-900 font-mreg">-2.9%</h2>
          <p class="font-mreg">NG</p>
        </div>
      </div>
         

    </div>

    <div class="lg:max-w-lg lg:w-1/3 w-5/6 md:w-0 mt-16 hidden md:block">
      <lottie-player class="object-cover" src="https://lottie.host/14a64c76-ea24-4386-8b3d-0d3a1294691a/isCUeyucif.json"
  background="transparent"
  speed="1"
  style=" height: 500px"
  loop
  autoplay></lottie-player>
    </div>
  </div>





<div class="items-center flex justify-center -mt-16 mb-12">
      <button class="shadow-lg relative font-mreg font-bold rounded-full sm:w-3/4 md:w-1/2 lg:w-1/3 xl:w-1/5 inline bg-gray-800 border-solid border-white  text-white font-semibold rounded-lg px-4 py-3 pl-6 pr-6 mt-6  md:ml-12 lg:ml-12 xl:ml-12 text-lg">Methodology</button>
    </div>  


  
  



  

    <style>
      h1, h2, h3, h4, h5, h6,
.h01, .h02, .h03, .h04, .h05, .h06 {
font-family: "librebaskerville-regular", sans-serif;
color: #151515;
font-style: bold;
text-rendering: optimizeLegibility;

}




    </style>

    





<section class=" lg:ml-0 md:-ml-12" style="background-color: #F7F6F2;">
<div class="container mx-auto flex py-24 md:flex-row flex-col items-center xl:pl-0 lg:pl-0 md:pl-12 sm:pl-0 ">
    <div class="lg:flex-grow md:w-4/5 lg:pr-24 md:pr-16 flex flex-col md:items-start md:text-left sm:w-5/6 md:mb-0 items-center text-center">
      <h1 class="title-font sm:text-3xl md:text-4xl  lg:text-4xl mb-4 text-black -mt-4  md:ml-0 lg:ml-0 xl:ml-0" >Managed Futures Equal Weight

      </h1>

      <p class="text-black font-mreg text-lg w-full font-bold"></p>

      <h1 class="title-font sm:text-4xl text-3xl mb-8  text-black mt-8  ">Historical Performance

      </h1>


      <div class=" inline w-full rounded-3xl items-center justify-center object-center">


      <div class="w-full " id="chart4"></div>


    </div>

    </div>



<div class="lg:flex-grow md:w-4/5 lg:pr-24 md:pr-16 flex flex-col md:items-start md:text-left mb-16 sm:w-5/6 md:mb-0 items-center text-center">
      <h1 class="title-font sm:text-5xl text-3xl mb-6 xl:mb-6 lg:mb-6 md:mb-8 sm:mb-6  text-white -mt-12  md:ml-0 lg:ml-0 xl:ml-0 transparent invisible ">Caltropia

      </h1>

      
      <h1 class="title-font sm:text-4xl text-3xl xl:mb-8 lg:mb-16 md:mb-8 sm:mb-8  text-black mt-12 sm:mt-12 md:mt-0 lg:mt-12 xl:mt-12">Annual Returns

      </h1>


      <div class=" inline w-full rounded-3xl items-center justify-center object-center">


      <div class="w-full " id="chart1"></div>


    </div>

    </div>


  </div>

    <!-- Centering wrapper -->
<div class="w-full flex justify-center">
  
  <div class=" w-full max-w-4xl rounded-3xl px-4">
    <h1 class="title-font sm:text-4xl text-3xl xl:mb-8 lg:mb-16 md:mb-8 sm:mb-8 text-black -mt-8 text-center">Monthly Returns

    </h1>
    <p class="font-mreg flex text-center text-gray-800 text-lg mb-2 mt-6"></p>
    <div class="mb-16 " id="chart7" style="background-color: #F7F6F2;"></div>
  </div>
</div>

</section>

<section class="text-gray-600 body-font xl:ml-0 lg:ml-0 md:ml-12 sm:ml-0">
  
  



  <div class="container mx-auto flex py-24 md:flex-row flex-col items-center ">

    <div class="lg:max-w-lg lg:w-2/5 w-5/6 md:w-0 -mt-16 mb-12 xl:hidden lg:hidden md:hidden sm:w-3/4">
      <img class="object-cover object-center rounded-2xl md:-ml-20" alt="" src="">
    </div>

    <div class="lg:flex-grow md:w-4/5 lg:pr-24 md:pr-16 flex flex-col md:items-start md:text-left mb-16 md:mb-0 items-center text-center">
      <h1 class="title-font sm:text-3xl md:text-5xl  lg:text-5xl mb-4 font-bold text-white -mt-4 font-mreg md:ml-0 lg:ml-0 xl:ml-0">

      </h1>
      
      <h1 class="title-font sm:text-3xl md:text-4xl  lg:text-4xl mb-8 font-bold text-white mt-8 ">How to Trade
        
      </h1>


      <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4 justify-items-center mt-6 px-4 ml-0 sm:-ml-0">
        <div class="bg-gray-200 px-8 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 class="font-bold text-xl text-gray-900 font-mreg">Long/Short</h2>
          <p class="font-mreg">Position</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2 class="font-bold text-xl text-gray-900 font-mreg">Friday's</h2>
          <p class="font-mreg">Trade Freq</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2  class="font-bold text-xl text-gray-900 font-mreg">1-2x</h2>
          <p class="font-mreg">Leverage</p>
        </div>
      
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2  class="font-bold text-xl text-gray-900 font-mreg">Futures</h2>
          <p class="font-mreg">Asset Type</p>
        </div>
        <div class="bg-gray-200 px-4 py-5 rounded-xl shadow-2xl hover:bg-blue-100 w-full max-w-[140px] text-center">
          <h2  class="font-bold text-xl text-gray-900 font-mreg">Futures Close</h2>
          <p class="font-mreg">Rebalance</p>
        </div>
        </div>

    


      <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-app.js";
        import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-database.js";
    
        const firebaseConfig = {
          apiKey: "AIzaSyBxG5qf6mb8E_-b2TeXlRNseMZ26L9DRYg",
          authDomain: "trendscores-df341.firebaseapp.com",
          projectId: "trendscores-df341",
          storageBucket: "trendscores-df341.appspot.com",
          messagingSenderId: "565710392511",
          appId: "1:565710392511:web:37349319364bba19b3ca0a",
          measurementId: "G-8TVLFBWN63",
          databaseURL: "https://trendscores-df341-default-rtdb.firebaseio.com"
        };
    
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
    
        const monthlyRef = ref(db, "relvalvol");

get(monthlyRef).then(snapshot => {
  const data = snapshot.val();
  if (!data) return;

  const sorted = Object.entries(data).sort(([a], [b]) => new Date(a) - new Date(b));
  const categories = sorted.map(([date]) =>
    new Date(date).toLocaleDateString('en-US', { year: 'numeric', month: 'short' })
  );
  const series1 = sorted.map(([, values]) => values[0]);
  const series2 = sorted.map(([, values]) => values[1]);

  const options = {
    chart: {
      fontFamily: 'montserrat-regular, sans-serif',
      type: 'area',
      background: 'transparent',
      height: 450,
      toolbar: { show: false },
      zoom: { enabled: false },
      animations: {
        enabled: true,
        easing: 'easeinout',
        speed: 800
      }
    },
    stroke: {
      curve: 'smooth',
      width: 3
    },
    dataLabels: {
      enabled: false
    },
    title: {
      text: "",
      align: 'center',
      style: {
        fontSize: '22px',
        fontWeight: 'bold',
        color: '#111827',
        fontFamily: 'montserrat-regular, sans-serif'
      }
    },
    xaxis: {
      categories,
      labels: {
        show: false,
        rotate: -45,
        style: {
          fontSize: '12px',
          colors: '#4B5563'
        }
      }
    },
    yaxis: {
      labels: {
        formatter: function (val) {
          return val.toFixed(2);
        },
        style: {
          colors: '#4B5563',
          fontSize: '12px'
        }
      },
      title: {
        text: '',
        style: {
          color: '#374151',
          fontWeight: 500
        }
      }
    },
    grid: {
      borderColor: '#E5E7EB',
      show: false,
      row: { colors: ['#F9FAFB', 'transparent'], opacity: 0.5 }
    },
    colors: [],
    fill: {
      type: "gradient",
      gradient: {
        shadeIntensity: 1,
        opacityFrom: 0.4,
        opacityTo: 0.1,
        stops: [0, 90, 100]
      }
    },
    markers: {
      size: 0,
      strokeWidth: 2,
      strokeColors: "#fff",
      hover: { size: 6 }
    },
    tooltip: {
      theme: "light",
      x: { format: 'MMM yyyy' }
    },
    series: [
      { name: "Caltropia", data: series1 }

    ]
  };

  const chart = new ApexCharts(document.querySelector("#chart4"), options);
  chart.render();
}).catch(err => console.error("Data fetch error:", err));


const refPath = ref(db, "relvalvolyearly");

get(refPath).then(snapshot => {
  const data = snapshot.val();
  if (!data) return console.error("No data found.");

  // Convert and sort by parsed date keys
  const sorted = Object.entries(data).sort(([a], [b]) => new Date(a) - new Date(b));

  // Extract values
  const years = sorted.map(([dateStr]) => {
    const year = new Date(dateStr).getFullYear();
    return "'" + year.toString().slice(-2);
  });

  const caltropia = sorted.map(([, values]) => values[0]);
  const sp500 = sorted.map(([, values]) => values[1]);

  // Now use in ApexCharts
  const options = {
    series: [
      { name: 'Caltropia', data: caltropia }

    ],
    chart: {
      fontFamily: 'montserrat-regular, sans-serif',
      type: 'bar',
      background: 'transparent',
  height: 450,
  toolbar: {
    show: false // this disables the entire menu and removes the icon
  }
},
    xaxis: {
      categories: years
    },
    yaxis: {
  title: {
    text: ''
  },
  labels: {
    formatter: function (val) {
      return val.toFixed(2); // or .toFixed(2) if you want 2 decimal places
    }
  }
},
    grid: {
              borderColor: '#E5E7EB',
              show: false,
              row: { colors: ['#F9FAFB', 'transparent'], opacity: 0.5 }
            },
    tooltip: {
      y: {
        formatter: val => val.toFixed(2) + " %"
      }
    },
    fill: { opacity: 1 },
    plotOptions: {
      bar: {
        horizontal: false,
        columnWidth: '55%',
        borderRadius: 10
      }
    },
    dataLabels: { enabled: false },
    stroke: {
      show: true,
      width: 2,
      colors: ['transparent']
    }
  };

  const chartEl = document.querySelector("#chart1");
  if (chartEl) {
    const chart = new ApexCharts(chartEl, options);
    chart.render();
  } else {
    console.error("Element #chart1 not found.");
  }
}).catch(err => console.error("Error fetching Firebase data:", err));


const allocationsRef = ref(db, "BondRegimeHistAlloc");

get(allocationsRef).then(snapshot => {
  const data = snapshot.val();
  if (!data) return;

  const sorted = Object.entries(data).sort(([a], [b]) => new Date(a) - new Date(b));
  const dates = sorted.map(([date]) =>
    new Date(date).toLocaleDateString('en-US', { year: 'numeric', month: 'short' })
  );
  const values = sorted.map(([, value]) => value * 100); // convert to percentage

  const options = {
    chart: {
      fontFamily: 'montserrat-regular, sans-serif',
      type: 'line',
      background: 'transparent',
      height: 450,
      toolbar: { show: false },
      zoom: { enabled: false },
      animations: {
        enabled: true,
        easing: 'easeinout',
        speed: 800
      }
    },
    stroke: {
      curve: 'smooth',
      width: 3
    },
    dataLabels: { enabled: false },
    title: {
      text: "",
      align: 'center',
      style: {
        fontSize: '22px',
        fontWeight: 'bold',
        color: '#111827'
      }
    },
    xaxis: {
      categories: dates,
      labels: {
        rotate: -45,
        style: {
          fontSize: '0.1px',
          colors: '#4B5563'
        }
      }
    },
    yaxis: {
      labels: {
        formatter: function (val) {
          return parseFloat(val.toFixed(1)); // clean 1 decimal max
        },
        style: {
          colors: '#4B5563',
          fontSize: '12px'
        }
      },
      title: {
        text: 'Allocation (%)',
        style: {
          color: '#374151',
          fontWeight: 500
        }
      }
    },
    grid: { show: false },
    colors: ['#3b82f6'],
    fill: {
      type: "solid",
      colors: ['#3b82f6']
    },
    markers: {
      size: 0,
      strokeWidth: 2,
      strokeColors: "#fff",
      hover: { size: 6 }
    },
    tooltip: {
      theme: "light",
      y: {
        formatter: val => val.toFixed(1) + " %"
      }
    },
    series: [{
      name: 'Allocation %',
      data: values
    }]
  };

  const chart = new ApexCharts(document.querySelector("#chart5"), options);
  chart.render();
});


const returnsRef = ref(db, "relvalvolmonthly");

get(returnsRef).then(snapshot => {
  const data = snapshot.val();
  if (!data) return;

  const monthMap = {
    "01": "Jan", "02": "Feb", "03": "Mar", "04": "Apr",
    "05": "May", "06": "Jun", "07": "Jul", "08": "Aug",
    "09": "Sep", "10": "Oct", "11": "Nov", "12": "Dec"
  };

  const allMonths = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
  const structured = {};

  // Step 1: Parse and organize values into year → month → value
  Object.entries(data).forEach(([date, value]) => {
    const jsDate = new Date(date);
    const year = jsDate.getFullYear();
    const monthIndex = String(jsDate.getMonth() + 1).padStart(2, "0");
    const monthLabel = monthMap[monthIndex];

    const numeric = parseFloat(Array.isArray(value) ? value[0] : value);
    if (!isNaN(numeric) && isFinite(numeric)) {
      if (!structured[year]) structured[year] = {};
      structured[year][monthLabel] = parseFloat(numeric.toFixed(2));
    }
  });

  // Step 2: Ensure each row (year) uses all months in correct order
  const series = Object.entries(structured)
    .sort(([a], [b]) => parseInt(a) - parseInt(b))
    .map(([year, monthlyData]) => ({
      name: year,
      data: allMonths.map(month => ({
        x: month,
        y: monthlyData[month] ?? null
      }))
    }));

  const options = {
    chart: {
      fontFamily: 'montserrat-regular, sans-serif',
      background: 'transparent',
      height: 600,
      type: 'heatmap',
      
      toolbar: { show: false }
    },
    plotOptions: {
      heatmap: {
        shadeIntensity: 0.5,
        colorScale: {
          ranges: [
          { from: -100, to: -5, name: 'Very Negative', color: '#dc2626' },  // darker red
    { from: -5, to: 0, name: 'Slight Negative', color: '#f87171' },   // medium red
    { from: 0, to: 5, name: 'Slight Positive', color: '#6ee7b7' },    // medium green
    { from: 5, to: 100, name: 'Very Positive', color: '#16a34a' }
          ]
        }
      }
    },

    dataLabels: {
  enabled: true,
  style: {
    fontWeight: 'bold',
    fontSize: window.innerWidth < 600 ? '8px' :
              window.innerWidth < 900 ? '10px' : '12px'
  }
},
    
    xaxis: {
      type: 'category',
      categories: allMonths,
      labels: {
        style: {
          fontSize: '12px'
        }
      }
    },
    yaxis: {
      title: { text: "" },
      labels: {
        style: { fontSize: '12px' }
      }
    },
    tooltip: {
      y: {
        formatter: val => val !== null ? val.toFixed(2) + " %" : "No Data"
      }
    },
    series: series
  };

  const chart = new ApexCharts(document.querySelector("#chart7"), options);
  chart.render();
}).catch(err => console.error("Firebase error:", err));

</script>



</section>

<section class="" style="background-color: #F7F6F2;">

  <div class="container px-4 flex-grow w-full py-4 sm:py-0 mx-auto px-0  ">
    
    <h1
      class="text-center text-6xl font-mreg font-semibold text-blue-900 mx-auto px-2"
    >
      
    </h1>
    <p1 class="text-center text-2xl mb-4 text-blue-900 mx-auto px-2"></p1>
    <h1 class="text-center text-2xl mb-4 text-4xl text-blue-900 mx-auto px-6 mb-8 mt-16">Investment Approach</h1>                  
              <h1 class="text-center flex text-sm mb-24 text-blue-900 mx-auto px-2 leading-loose ">Our approach systematically integrates multiple independent models to construct a dynamic portfolio of bond exposures. Rather than isolating signals like yield curve dynamics, credit spreads, or macroeconomic factors in silos, we aggregate them into a unified investment framework.
                By blending complementary perspectives—such as interest rate trends, volatility regimes, inflation expectations, and relative value—we form a meta-model that adapts to changing market environments.</h1>      
    <div class="mx-auto w-full md:w-2/3 px-4">
      <div class="container my-8">
        <div class="flex justify-between items-center ">
          <h2 class="text-3xl font-mreg font-semibold ">
  
            
          </h2>
          <h1 class="text-center text-2xl mb-4 text-3xl text-blue-900 mx-auto px-6 mb-24">Why Invest In Caltropia's EW Managed Futures</h1>
        </div>

        <style>
          .custom-scrollbar-hide::-webkit-scrollbar {
            display: none;
          }
          .custom-scrollbar-hide {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;     /* Firefox */
          }
        </style>
        
        <div class="overflow-x-auto custom-scrollbar-hide">
          
          <!-- your content here -->
        </div>
        <div
          id="scrollContainer"
          class="flex flex-no-wrap overflow-x-scroll custom-scrollbar-hide scrolling-touch items-start -mt-12 mb-16"
        >
          <div
            class="flex-none w-2/3 md:w-1/3 mr-8   rounded-xl"
          >
            <a href="#" class="space-y-4">
              <div class="aspect-w-16 aspect-h-9">
                
                
                <div  class="object-cover shadow-md hover:shadow-xl rounded-3xl">
  
                  <img class="object-cover hover:shadow-xl rounded-3xl w-full" src="IMG1365.png" style=" height: 200px" alt="">
  
                </div>
  
                
              </div>
              <div class="px-4 py-2">
                <div class="text-lg leading-6 font-medium space-y-1">
                  <h3 class=" text-gray-800 text-2xl mb-2 mt-6">
                   <span class=" text-3xl text-gray-900 leading-relaxed">1. </span> Outperform Buy & Hold 
                  </h3>
                  
                </div>
                <div class="text-2xl">
                  <h1 class=" text-gray-800 text-sm mb-2 mt-6 mb-32 leading-loose">Seeks to provide systematic exposure to bonds through a disciplined, multi-factor investment approach. The goal, outperform over investment cycles with less risk</h1>
                  <p class="font-mreg font-large">
                    
                  </p>
  
                  <p class="font-medium text-sm text-indigo-600 mt-2">
                    <span class="text-indigo-600"></span>
                  </p>
                </div>
              </div>
            </a>
          </div>
          <div
            class="flex-none w-2/3 md:w-1/3 mr-8 md:pb-4  rounded-lg"
          >
            <a href="#" class="space-y-4">
              <div class="aspect-w-16 aspect-h-9">
  
                  <div class="object-cover shadow-md hover:shadow-xl rounded-3xl">
                    <img class="object-cover hover:shadow-xl rounded-3xl w-full" src="IMG0018.jpeg" style=" height: 200px" alt="">
                    </div>

              </div>
              <div class="px-4 py-2">
                <div class="text-lg leading-6 font-medium space-y-1">
                  <h3 class="font-semibold text-gray-800 text-2xl mb-2 mt-6">
                    <span class="  text-3xl text-gray-900 leading-relaxed">2. </span> Diversity of Model</h3>
                </div>
                <div class="text-lg">
                  <h1 class=" text-gray-800 text-sm mb-2 mt-6 mb-32 leading-loose">Relying on a single model or fundamental outlook can expose you to unnecessary risk. At Caltropia Research, our approach is different. Every model is built to incorporate multiple signals and perspectives.</h1>
                  <p class="font-mreg font-medium">
                    
                  </p>
                  <p class="font-medium text-sm text-indigo-600 mt-2">
                    <span class="text-indigo-600"></span>
                  </p>
                </div>
              </div>
            </a>
          </div>
          <div
            class="flex-none w-2/3 md:w-1/3 mr-8 md:pb-4  rounded-lg"
          >
            <a href="#" class="space-y-4">
              <div class="aspect-w-16 aspect-h-9">
  
                <div class="object-cover shadow-md hover:shadow-xl rounded-3xl">
                 <!--add this object cover to fix on mobile and keep the height in style but delete the width--> <img class="object-cover hover:shadow-xl rounded-3xl w-full" src="IMG1364.png" style=" height: 200px" alt="">
                </div>
                  
              </div>
              <div class="px-4 py-2">
                <div class="text-lg leading-6 font-medium space-y-1">
                  <h3 class="font-semibold text-gray-800 text-2xl mb-2 mt-6">
                    <span class=" text-3xl text-gray-900 leading-relaxed">3. </span> Diversity of Time Frame    
                  </h3>
                </div>
                <div class="text-lg">
                  <h1 class=" text-gray-800 text-sm mb-2 mt-6 mb-32 leading-loose">To avoid overexposure to any single trend or time frame, true diversification requires spreading risk across multiple time horizons.</h1>
                  <p class="font-mreg font-medium">
                    
                  </p>
                  <p class="font-medium text-sm text-indigo-600 mt-2">
                    <span class="text-indigo-600"></span>
                  </p>
                </div>
              </div>
              
            </a>
          </div>
          
          <div
            class="flex-none w-2/3 md:w-1/3 mr-8 md:pb-4  rounded-lg"
          >
            <a href="#" class="space-y-4">
              <div class="aspect-w-16 aspect-h-9">
  
                <div class="object-cover shadow-md hover:shadow-xl rounded-3xl">
                 <!--add this object cover to fix on mobile and keep the height in style but delete the width--> <img class="object-cover hover:shadow-xl rounded-3xl w-full" src="IMG1364.png" style=" height: 200px" alt="">
                </div>
                  
              </div>
              <div class="px-4 py-2">
                <div class="text-lg leading-6 font-medium space-y-1">
                  <h3 class="font-semibold text-gray-800 text-2xl mb-2 mt-6">
                    <span class="text-3xl text-gray-900 leading-relaxed">4. </span>Systemically Applied
                  </h3>
                </div>
                <div class="text-lg">
                  <h1 class=" text-gray-800 text-sm mb-2 mt-6 mb-32 leading-loose">Discipline is essential to successful investing. That’s why having robust models—designed to perform across a wide range of market conditions—can be a powerful advantage in maximizing risk-adjusted returns.</h1>
                  <p class="font-mreg font-medium">
                    
                  </p>
                  <p class="font-medium text-sm text-indigo-600 mt-2">
                    <span class="text-indigo-600"></span>
                  </p>
                </div>
              </div>
              
            </a>
          </div>
          
        </div>
      </div>
      <!---->
      
      </div>
  </div>
  

  
</section>

     
  


</body>



</html>





